# MFC-SimpleDraw
基于MFC的简易绘图程序，支持绘制各种图形及文本、修改已有图形、撤回、保存等。附有详细的功能实现过程。

## 基本功能
* 拥有含标题条、菜单、工具条、和绘图工作区的窗口界面。
* 支持修改画笔的粗细和颜色。
* 支持绘制各种基本图形，包含直线、矩形、正方形、圆、椭圆、三角形、五边形、六边形。
* 支持多种画笔模式，包含铅笔、橡皮、填充、文本框。
* 支持框选部分区域并可对选中区域进行拖动、放大缩小、删除操作。
* 支持撤回操作。
* 支持保存当前图像文件和打开已有图像文件（bmp格式）。

## 创建项目
该绘图程序开发及运行环境为 __Microsoft Visual Studio 2022__。打开Visual Studio，选择创建新项目，选择创建 __MFC应用__。将项目命名为SimpleDraw，选择MFC的应用程序类型为 __单文档__，项目样式选择为 __MFC standard__，点击完成，即可等待系统自动建立新项目。

## 基本框架
项目创建完成后，其中已自动包含了一些文件。其类结构大致如下：
![](/picture/1.png)
这里只需关心其中两个类。第一， ``CSettingDlg``用来编辑类的消息响应函数，例如当我们创建一个新的对话框时，就需要用到该类的相关函数。第二， ``CSimpleDrawView``代表了程序运行的可视化窗口，它包含工具栏和菜单栏的命令响应函数以及鼠标的消息响应函数。实现绘图过程中各个功能的代码都将在这个类中进行编写。

## 具体功能分析和实现
### 添加菜单选项
